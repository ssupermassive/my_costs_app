(function(t){function e(e){for(var n,r,s=e[0],c=e[1],u=e[2],d=0,m=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&m.push(a[r][0]),a[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,s=1;s<i.length;s++){var c=i[s];0!==a[c]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},a={app:0},o=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/my_costs_app/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},"0588":function(t,e,i){"use strict";i("947a")},1896:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n,a,o,r,s=i("2b0e"),c=i("2f62"),u=i("5f5b"),l=i("b1e0"),d=i("4452"),m=i.n(d),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flexbox justify-content-center",attrs:{id:"app"}},[i("app-layout")],1)},p=[],h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"me-AppLayout flexbox flex-column align-items-center flex-grow-1 flex-shrink-1"},[i("header",{staticClass:"me-AppLayout-header flexbox justify-content-between align-items-center flex-grow-0 flex-shrink-0"},[i("h1",{staticClass:"me-AppLayout-header-title"},[t._v("Мои Расходы")]),i("div",{staticClass:"mc-AppLayout-header-buttons flexbox align-items-center"},[t.demoDataButtonVisible?i("b-button",{staticClass:"me-AppLayout-header-button",attrs:{pill:"",variant:"light",title:"Заполнить демо - данными"},on:{click:t.applyDemoData}},[t._v(" Заполнить ")]):t._e(),i("b-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.add-costs-modal",modifiers:{"add-costs-modal":!0}}],staticClass:"me-AppLayout-header-button me-AppLayout-header-button-round",attrs:{title:"Новый расход",icon:"plus-circle-fill"}}),i("b-icon",{directives:[{name:"b-toggle",rawName:"v-b-toggle.settings",modifiers:{settings:!0}}],staticClass:"me-AppLayout-header-button me-AppLayout-header-button-round",attrs:{title:"Настройки",icon:"gear-fill"}})],1),i("app-settings",{attrs:{id:"settings"}}),i("costs-dialog",{attrs:{id:"add-costs-modal"}})],1),i("main",{staticClass:"me-AppLayout-content flexbox flex-grow-1 flex-shrink-1"},[i("chart-layout")],1)])},g=[],v=(i("96cf"),i("1da1")),b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mc-ChartLayout flexbox flex-column flex-grow-1 flex-shrink-1"},[i("div",{staticClass:"mc-ChartLayout__top flexbox justify-content-around flex-grow-0 flex-shrink-0"},[t.topData?t._l(t.topData,(function(e){return i("div",{key:e.id,staticClass:"mc-ChartLayout__category flexbox justify-content-center align-items-center",class:{"mc-ChartLayout__category-selected":e.id===t.selectedCategory},on:{mouseover:function(i){return t.costItemMouseOver(e.id)},mouseout:function(i){return t.costItemMouseOut(e.id)}}},[i("cost-item",{attrs:{item:e}})],1)})):t._e()],2),i("div",{staticClass:"mc-ChartLayout__center flexbox flex-grow-1 flex-shrink-1"},[i("div",{staticClass:"mc-ChartLayout__center-left flexbox justify-content-around align-items-center flex-column flex-grow-0 flex-shrink-0"},[t.leftData?t._l(t.leftData,(function(e){return i("div",{key:e.id,staticClass:"mc-ChartLayout__category flexbox justify-content-center align-items-center",class:{"mc-ChartLayout__category-selected":e.id===t.selectedCategory},on:{mouseover:function(i){return t.costItemMouseOver(e.id)},mouseout:function(i){return t.costItemMouseOut(e.id)}}},[i("cost-item",{attrs:{item:e}})],1)})):t._e()],2),i("div",{staticClass:"mc-ChartLayout__center-middle flex-grow-1 flex-shrink-1"},[i("chart-view",{ref:"chartView",on:{pointMouseOut:t.pointMouseOutHandler,pointMouseOver:t.pointMouseOverHandler}})],1),i("div",{staticClass:"mc-ChartLayout__center-right justify-content-around align-items-center flexbox flex-column flex-grow-0 flex-shrink-0"},[t.rightData?t._l(t.rightData,(function(e){return i("div",{key:e.id,staticClass:"mc-ChartLayout__category flexbox justify-content-center align-items-center",class:{"mc-ChartLayout__category-selected":e.id===t.selectedCategory},on:{mouseover:function(i){return t.costItemMouseOver(e.id)},mouseout:function(i){return t.costItemMouseOut(e.id)}}},[i("cost-item",{attrs:{item:e}})],1)})):t._e()],2)]),i("div",{staticClass:"mc-ChartLayout__bottom flexbox justify-content-around flex-grow-0 flex-shrink-0"},[t.bottomData?t._l(t.bottomData,(function(e){return i("div",{key:e.id,staticClass:"mc-ChartLayout__category flexbox justify-content-center align-items-center",class:{"mc-ChartLayout__category-selected":e.id===t.selectedCategory},on:{mouseover:function(i){return t.costItemMouseOver(e.id)},mouseout:function(i){return t.costItemMouseOut(e.id)}}},[i("cost-item",{attrs:{item:e}})],1)})):t._e()],2)])},C=[],_=(i("fb6a"),i("3835")),y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mc-CategoryCosts flexbox flex-column align-items-center",attrs:{title:t.item.name}},[i("b-icon",{staticClass:"mc-CategoryCosts__icon",style:{color:t.item.icon.color},attrs:{icon:t.item.icon.value}}),i("div",{staticClass:"mc-CategoryCosts__part"},[t._v(" "+t._s(t.item.part?t.item.part+"%":" ")+" ")])],1)},O=[],x={name:"cost-item",props:{item:Object}},w=x,D=(i("d88f"),i("2877")),T=Object(D["a"])(w,y,O,!1,null,"3f458270",null),S=T.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("highcharts",{ref:"highcharts",staticClass:"mc-ChartView",attrs:{options:t.chartOptions}})},j=[],I=(i("7db0"),{name:"chart-view",computed:{chartOptions:function(){var t=this,e=this.$store.state.costs.statistics,i=e.data,n=e.colors;return{title:this.getDefaultTitle(),chart:{backgroundColor:"#343a40",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},colors:n,accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{dataLabels:{enabled:!1}}},series:[{name:"Расход",colorByPoint:!0,innerSize:"75%",data:i,point:{events:{mouseOut:function(e){t.$emit("pointMouseOut",e.target.id)},mouseOver:function(e){t.$emit("pointMouseOver",e.target.id)}}}}]}}},methods:{togglePointSelect:function(t){var e=Object(_["a"])(this.$refs.highcharts.chart.series,1),i=e[0];if(i){var n=i.points.find((function(e){return e.id===t}));if(n){n.select();var a=this.getDefaultTitle();n.selected&&(a.text=n.y.toLocaleString()),this.$refs.highcharts.chart.setTitle(a)}}},getDefaultTitle:function(){return{text:this.$store.state.costs.total.toLocaleString(),align:"center",verticalAlign:"middle",style:{fontSize:"2rem",fontWeight:"bold",color:"white"}}}}}),A=I,k=(i("9063"),Object(D["a"])(A,E,j,!1,null,"7a2e0178",null)),L=k.exports,P=[0,4],$=[4,6],B=[6,8],R=[8,12],F={name:"chart-layout",components:{CostItem:S,ChartView:L},data:function(){return{selectedCategory:null}},computed:{topData:function(){return this.getData(P)},rightData:function(){return this.getData(B)},leftData:function(){return this.getData($)},bottomData:function(){return this.getData(R)},hasItems:function(){return!!this.$store.state.categories.items.length}},methods:{getData:function(t){if(this.hasItems){var e=Object(_["a"])(t,2),i=e[0],n=e[1],a=this.$store.state.costs.itemsByCategory.slice(i,n);if(a.length)return a}return null},pointMouseOverHandler:function(t){this.selectedCategory=t},pointMouseOutHandler:function(){this.selectedCategory=null},costItemMouseOver:function(t){this.selectedCategory=t,this.$refs.chartView.togglePointSelect(t)},costItemMouseOut:function(t){this.selectedCategory=null,this.$refs.chartView.togglePointSelect(t)}}},M=F,V=(i("5746"),Object(D["a"])(M,b,C,!1,null,"4485ce34",null)),G=V.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{attrs:{"body-bg-variant":"dark","header-text-variant":"light","header-bg-variant":"secondary","header-border-variant":"secondary",id:t.$attrs.id,"hide-footer":!0,title:"Новый расход"},on:{hide:t.resetItemData}},[i("b-form",{on:{submit:t.submitHandler}},[i("b-form-datepicker",{staticClass:"mc-CostsDialog__input",attrs:{size:"lg"},model:{value:t.itemData.date,callback:function(e){t.$set(t.itemData,"date",e)},expression:"itemData.date"}}),i("b-form-select",{staticClass:"mc-CostsDialog__input",attrs:{required:"",size:"lg",options:t.$store.state.categories.items,"value-field":"id","text-field":"name"},scopedSlots:t._u([{key:"first",fn:function(){return[i("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("Укажите категорию")])]},proxy:!0}]),model:{value:t.itemData.category,callback:function(e){t.$set(t.itemData,"category",e)},expression:"itemData.category"}}),i("b-form-input",{staticClass:"mc-CostsDialog__input",attrs:{required:"",size:"lg",type:"number",min:"1",number:!0,placeholder:"Укажите сумму",formatter:t.sumFormatter},model:{value:t.itemData.sum,callback:function(e){t.$set(t.itemData,"sum",e)},expression:"itemData.sum"}}),i("b-form-input",{staticClass:"mc-CostsDialog__input",attrs:{size:"lg",autocomplete:"off",placeholder:"Комментарий"},model:{value:t.itemData.comment,callback:function(e){t.$set(t.itemData,"comment",e)},expression:"itemData.comment"}}),i("b-button",{staticClass:"mc-CostsDialog__submit",attrs:{type:"submit",variant:"primary"}},[t._v("Добавить ")])],1)],1)},U=[],Y=(i("99af"),i("ac1f"),i("466d"),i("1276"),i("5530")),N="UPDATE_STATISTICS_DATA",Z="UPDATE_DETAILING_DATA",J="UPDATE_COSTS_BY_CATEGORY_DATA",z="COMPUTE_STATISTICS",q="COMPUTE_DETAILING",W="COMPUTE_COSTS_BY_CATEGORY",K="CREATE_COST",Q="SAVE_COSTS_TO_STORE",X="DELETE_COSTS_BY_CATEGORY",tt="INIT_COSTS_DATA",et="APPLY_DEMO_COSTS",it="APPLY_NEW_COSTS",nt=2,at={name:"costs-dialog",props:{item:{type:Object,default:function(){return{id:null,category:null,date:new Date,comment:null,sum:null}}}},data:function(){return{itemData:Object(Y["a"])({},this.item)}},methods:{sumFormatter:function(t){var e=t;while(e.match(/^[0-]/))e=e.substr(1);var i=t.split("."),n=Object(_["a"])(i,2),a=n[0],o=n[1];return o&&o>nt&&(e="".concat(a,".").concat(o.substr(0,nt))),e.substr(0,6)},submitHandler:function(t){var e=this;t.preventDefault(),this.$store.dispatch(K,this.itemData).then((function(){e.resetItemData(),e.$bvModal.hide(e.$attrs.id)}))},resetItemData:function(){this.itemData={id:null,category:null,date:new Date,comment:null,sum:null}}}},ot=at,rt=(i("e22a"),Object(D["a"])(ot,H,U,!1,null,null,null)),st=rt.exports,ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-sidebar",{attrs:{id:t.$attrs.id,"bg-variant":"dark","text-variant":"light",title:"Категории",right:"",shadow:"",backdrop:""},scopedSlots:t._u([{key:"title",fn:function(){return[i("div",{staticClass:"me-AppSettings__title flexbox align-items-center"},[i("b-icon",{staticClass:"me-AppSettings__add",attrs:{variant:"light",icon:"plus-circle",title:"+ Категория"},on:{click:function(e){return t.addCategory()}}}),t._v(" Категории ")],1)]},proxy:!0}])},[i("categories-list",{ref:"categoriesList"})],1)},ut=[],lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"me-CategoriesList"},[t.isAdd?i("categories-list-item",{ref:"list-item-add",attrs:{editMode:!0},on:{editComplete:t.createCompleteHandler,cancelEdit:t.cancelEdit}}):t._e(),t._l(t.$store.state.categories.items,(function(e){return i("categories-list-item",{key:e.id,ref:"list-item-"+e.id,refInFor:!0,attrs:{item:e,editMode:t.editingItem===e},on:{editComplete:t.editCompleteHandler,cancelEdit:t.cancelEdit,deleteItem:t.deleteItem,itemClick:function(i){return t.itemClickHandler(e)}}})}))],2)},dt=[],mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-form",{staticClass:"me-CategoriesListItem me-CategoriesListItem align-items-center",class:{"me-CategoriesListItem__editMode":t.editMode,"me-CategoriesListItem__viewMode":!t.editMode},attrs:{id:t.formId},on:{mouseover:function(e){return t.mouseoverHandler(e)},mouseout:function(e){return t.mouseoutHandler(e)},click:function(e){return t.$emit("itemClick")}}},[i("b-icon",{staticClass:"me-CategoriesListItem-icon flex-grow-0 flex-shrink-0 h2",style:{color:t.iconColor},attrs:{id:t.iconPopoverTarget,title:t.iconTitle,icon:t.icon}}),t.editMode?i("b-form-input",{staticClass:"me-CategoriesListItem-input",attrs:{autofocus:"",autocomplete:"off",state:t.validationState.inputValid,placeholder:"Название...",required:""},model:{value:t.itemData.name,callback:function(e){t.$set(t.itemData,"name",e)},expression:"itemData.name"}}):i("div",{staticClass:"me-CategoriesListItem-text text-truncate"},[t._v(" "+t._s(t.itemData.name)+" ")]),t.editMode||t.showActionsButtons?i("div",{staticClass:"me-CategoriesListItem__editingButtons justify-content-end align-items-center"},[t.editMode?i("b-icon",{staticClass:"me-CategoriesListItem__editingButtons-button",attrs:{title:"Сохранить",variant:"success",icon:"check-circle-fill"},on:{click:[function(t){t.stopPropagation()},function(e){return t.editComplete()}]}}):t._e(),t.itemData.id?i("b-icon",{staticClass:"me-CategoriesListItem__editingButtons-button",attrs:{title:"Удалить",variant:"danger",icon:"x-circle"},on:{click:[function(t){t.stopPropagation()},function(e){return t.deleteItem()}]}}):t._e(),t.editMode?i("b-icon",{staticClass:"me-CategoriesListItem__editingButtons-button",attrs:{title:"Отмена",icon:"x"},on:{click:[function(t){t.stopPropagation()},function(e){return t.cancelEdit()}]}}):t._e()],1):t._e(),i("b-popover",{attrs:{show:t.showPopover,target:t.iconPopoverTarget,placement:"bottom"},on:{"update:show":function(e){t.showPopover=e}},scopedSlots:t._u([{key:"title",fn:function(){return[i("span",{staticClass:"me-CategoriesListItem__popover-close close",attrs:{"aria-hidden":"true"},on:{click:t.togglePopover}},[t._v(" × ")]),t._v(" Выберите иконку ")]},proxy:!0}])},[i("category-icons-list",{on:{itemClick:t.iconChanged}})],1),i("b-popover",{attrs:{target:t.formId,placement:"top",delay:{show:50,hide:50},show:t.validationState.popoverShow,disabled:t.validationState.popoverDisabled},on:{"update:show":function(e){return t.$set(t.validationState,"popoverShow",e)},"update:disabled":function(e){return t.$set(t.validationState,"popoverDisabled",e)}}},[i("div",[t._v(t._s(t.validationState.message))])])],1)},ft=[],pt=(i("b0c0"),i("498a"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"me-IconView"},t._l(t.$store.state.categories.icons,(function(e){return i("b-icon",{key:e.id,staticClass:"me-IconView-icon border h1 p-1",style:{color:e.color},attrs:{icon:e.value},on:{click:function(i){return t.itemClick(e)}}})})),1)}),ht=[],gt={name:"category-icons-list",methods:{itemClick:function(t){this.$emit("itemClick",t)}}},vt=gt,bt=(i("e268"),Object(D["a"])(vt,pt,ht,!1,null,"8fe8af16",null)),Ct=bt.exports,_t={name:"categories-list-item",components:{CategoryIconsList:Ct},props:{item:{type:Object,default:function(){return{id:null,name:"",icon:null}}},editMode:{type:Boolean,default:!1}},data:function(){return{showPopover:!1,itemData:Object(Y["a"])({},this.item),showActionsButtons:!1,validationState:{inputValid:null,popoverShow:!1,popoverDisabled:!0,message:""}}},computed:{icon:function(){return this.itemData.icon?this.itemData.icon.value:"question-circle"},iconTitle:function(){return this.editMode?this.itemData.icon?"":"Выберите иконку":""},iconPopoverTarget:function(){return"icon-popever-target-".concat(this.item.id)},iconColor:function(){return this.itemData.icon?this.itemData.icon.color:"#CCC"},formId:function(){return"form-".concat(this.item.id)}},methods:{editComplete:function(){this.$emit("editComplete",this.itemData)},cancelEdit:function(){this.$emit("cancelEdit"),this.itemData=Object(Y["a"])({},this.item),this.resetValidationState()},togglePopover:function(){this.showPopover=!this.showPopover},iconChanged:function(t){this.itemData.icon=t,this.togglePopover()},validate:function(){var t=this.itemData,e=t.name,i=t.icon,n=!!e.trim(),a=!!i;return n&&a?(this.resetValidationState(),!0):(this.updateValidationState({inputValid:!!n&&null,popoverDisabled:!1,popoverShow:!0,message:n?"Выберите иконку":"Укажите название"}),!1)},updateValidationState:function(t){this.validationState=t},resetValidationState:function(){this.updateValidationState({inputValid:null,popoverDisabled:!0,popoverShow:!1,message:""})},deleteItem:function(){this.$emit("deleteItem",this.itemData.id)},mouseoverHandler:function(){this.showActionsButtons=!0},mouseoutHandler:function(t){if(t.relatedTarget){var e=t.relatedTarget.closest(".me-CategoriesListItem");this.showActionsButtons=e&&e.attributes["id"].value===this.formId}else this.showActionsButtons=!1}},watch:{item:function(t){this.itemData=Object(Y["a"])({},t)}}},yt=_t,Ot=(i("62c2"),Object(D["a"])(yt,mt,ft,!1,null,"44f85ff0",null)),xt=Ot.exports,wt="CREATE_CATEGORY",Dt="UPDATE_CATEGORY",Tt="DELETE_CATEGORY",St="SAVE_CATEGORIES_TO_STORE",Et="INIT_CATEGORIES_DATA",jt="APPLY_DEMO_CATEGORIES",It="APPLY_NEW_CATEGORIES",At={name:"categories-list",components:{CategoriesListItem:xt},data:function(){return{editingItem:null,isAdd:!1}},computed:{isEditing:function(){return!(!this.isAdd&&!this.editingItem)}},methods:{itemClickHandler:function(t){this.canEditItem()&&(this.editingItem=t,this.isAdd=!1)},cancelEdit:function(){this.isAdd=!1,this.editingItem=null},deleteItem:function(t){this.$store.dispatch(Tt,t)},editCompleteHandler:function(t){this.processingItem(t,Dt)},createCompleteHandler:function(t){this.processingItem(t,wt)},processingItem:function(t,e){var i=this;this.validateItem(t)&&this.$store.dispatch(e,t).then((function(){i.$cancelEdit()}))},addCategory:function(){this.canEditItem()&&(this.isAdd=!0,this.editingItem=null)},getListItemRef:function(t){var e=this.$refs["list-item-".concat(t&&t.id||"add")];if(Array.isArray(e)){var i=Object(_["a"])(e,1),n=i[0];return n}return e},validateItem:function(t){var e=this.getListItemRef(t);return e&&e.validate()},canEditItem:function(){return!this.isEditing||this.validateItem(this.editingItem)}}},kt=At,Lt=Object(D["a"])(kt,lt,dt,!1,null,null,null),Pt=Lt.exports,$t={components:{CategoriesList:Pt},methods:{addCategory:function(){this.$refs.categoriesList.addCategory()}}},Bt=$t,Rt=(i("0588"),Object(D["a"])(Bt,ct,ut,!1,null,"30318f67",null)),Ft=Rt.exports,Mt="MC_IS_DEMO_DATA",Vt={name:"app-layout",components:{AppSettings:Ft,ChartLayout:G,CostsDialog:st},data:function(){return{demoDataButtonVisible:!JSON.parse(localStorage.getItem(Mt))}},methods:{applyDemoData:function(){var t=this;this.$bvModal.msgBoxConfirm("Использовать демо - данные для наполнения?",{title:"Подтвердите действие",cancelTitle:"Отмена",okTitle:"Да",headerTextVariant:"light",headerBgVariant:"secondary","headerBorderМariant":"secondary",footerBorderVariant:"light",bodyClass:"me-AppLayout__confirmation"}).then(function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i){e.next=7;break}return e.next=3,t.$store.dispatch(jt);case 3:return e.next=5,t.$store.dispatch(et);case 5:localStorage.setItem(Mt,!0),t.demoDataButtonVisible=!1;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},Gt=Vt,Ht=(i("ecf3"),Object(D["a"])(Gt,h,g,!1,null,null,null)),Ut=Ht.exports,Yt={name:"App",components:{AppLayout:Ut}},Nt=Yt,Zt=(i("034f"),Object(D["a"])(Nt,f,p,!1,null,null,null)),Jt=Zt.exports,zt=(i("4de4"),i("d81d"),i("d3b7"),i("3ca3"),i("ddb0"),i("2909")),qt=i("ade3"),Wt=[{id:1,value:"house-door",color:"#00008B"},{id:2,value:"basket3",color:"#E9967A"},{id:3,value:"graph-up",color:"#7FFF00"},{id:4,value:"building",color:"#FF7F50"},{id:5,value:"box-seam",color:"#FFB6C1"},{id:6,value:"cart4",color:"#006400"},{id:7,value:"controller",color:"#FFFF00"},{id:8,value:"cup",color:"#00FFFF"},{id:9,value:"gift",color:"#8A2BE2"},{id:10,value:"globe2",color:"#483D8B"},{id:11,value:"heart",color:"#FF0000"},{id:12,value:"scissors",color:"#468d98"},{id:13,value:"tools",color:"#2F4F4F"},{id:14,value:"telephone",color:"#F08080"},{id:15,value:"music-note-list",color:"#FFA500"},{id:16,value:"cup-straw",color:"#00FF7F"},{id:17,value:"truck",color:"#FF4500"},{id:18,value:"tv",color:"#7B68EE"},{id:19,value:"people",color:"#8B4513"},{id:20,value:"flower1",color:"#FF00FF"},{id:21,value:"briefcase",color:""},{id:22,value:"book",color:"#87CEEB"},{id:23,value:"film",color:"#D3D3D3"}],Kt=[{id:1,name:"Жилье",icon:{id:1,value:"house-door",color:"#00008B"}},{id:2,name:"Продукты",icon:{id:2,value:"basket3",color:"#E9967A"}},{id:3,name:"Телефон",icon:{id:14,value:"telephone",color:"#F08080"}},{id:4,name:"Интернет",icon:{id:10,value:"globe2",color:"#483D8B"}},{id:5,name:"Кофебрэйк",icon:{id:8,value:"cup",color:"#00FFFF"}},{id:6,name:"Телевидение",icon:{id:18,value:"tv",color:"#7B68EE"}},{id:7,name:"Стиль",icon:{id:12,value:"scissors",color:"#468d98"}},{id:8,name:"Игры",icon:{id:7,value:"controller",color:"#FFFF00"}},{id:9,name:"Бытовые расходы",icon:{id:5,value:"box-seam",color:"#FFB6C1"}},{id:10,name:"Подарки",icon:{id:9,value:"gift",color:"#8A2BE2"}}],Qt="MC_CATEGORIES",Xt=[].concat(Kt,[{id:11,name:"Встречи",icon:{id:19,value:"people",color:"#8B4513"}},{id:12,name:"Книги",icon:{id:22,value:"book",color:"#87CEEB"}}]),te="UPDATE_CATEGORIES",ee="UPDATE_CATEGORIES_STATE",ie={state:function(){return{items:[],icons:[]}},mutations:(n={},Object(qt["a"])(n,te,(function(t,e){t.items=e})),Object(qt["a"])(n,ee,(function(t,e){t.icons=e.icons,t.items=e.items})),n),actions:(a={},Object(qt["a"])(a,wt,(function(t,e){return Object(v["a"])(regeneratorRuntime.mark((function i(){var n,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=Object(Y["a"])({},e),n.id=Date.now(),a=[].concat(Object(zt["a"])(t.state.items),[n]),i.next=5,t.dispatch(It,a);case 5:case"end":return i.stop()}}),i)})))()})),Object(qt["a"])(a,Dt,(function(t,e){return Object(v["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.state.items.map((function(t){return t.id===e.id?Object(Y["a"])({},e):Object(Y["a"])({},t)})),i.next=3,t.dispatch(It,n);case 3:case"end":return i.stop()}}),i)})))()})),Object(qt["a"])(a,Tt,(function(t,e){return Object(v["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.state.items.filter((function(t){return t.id!==e})),i.next=3,Promise.all([t.dispatch(St,n),t.dispatch(X,e)]);case 3:case"end":return i.stop()}}),i)})))()})),Object(qt["a"])(a,St,(function(t,e){return localStorage.setItem(Qt,JSON.stringify(e)),t.commit(te,e),Promise.resolve()})),Object(qt["a"])(a,It,(function(t,e){return Object(v["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.dispatch(St,e);case 2:return i.next=4,t.dispatch(J,t.rootState.costs.items);case 4:case"end":return i.stop()}}),i)})))()})),Object(qt["a"])(a,Et,(function(t){var e=localStorage.getItem(Qt),i=e?JSON.parse(e):Kt;return t.commit(ee,{items:i,icons:Wt}),Promise.resolve()})),Object(qt["a"])(a,jt,(function(t){return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.dispatch(St,Xt);case 1:case"end":return e.stop()}}),e)})))()})),a)},ne=(i("13d5"),[]),ae="MC_COSTS",oe=[{id:1,category:12,date:"2021-01-24T08:38:04.253Z",comment:null,sum:2e3},{id:2,category:11,date:"2021-01-24T08:37:55.228Z",comment:null,sum:3500},{id:3,category:10,date:"2021-01-24T08:37:47.598Z",comment:null,sum:5e3},{id:4,category:9,date:"2021-01-24T08:37:30.629Z",comment:null,sum:3e3},{id:5,category:8,date:"2021-01-24T08:37:21.890Z",comment:null,sum:2e3},{id:6,category:7,date:"2021-01-24T08:36:52.126Z",comment:null,sum:900},{id:7,category:6,date:"2021-01-24T08:36:44.113Z",comment:null,sum:1e3},{id:8,category:5,date:"2021-01-24T08:36:32.878Z",comment:null,sum:1500},{id:9,category:4,date:"2021-01-24T08:36:22.803Z",comment:null,sum:500},{id:10,category:3,date:"2021-01-24T08:36:15.397Z",comment:null,sum:400},{id:11,category:2,date:"2021-01-24T08:36:07.077Z",comment:null,sum:1e4},{id:12,category:1,date:"2021-01-24T08:33:52.870Z",comment:null,sum:15e3}],re="UPDATE_STATISTICS",se="UPDATE_DETAILING",ce="UPDATE_COSTS",ue="UPDATE_COSTS_BY_CATEGORY",le="UPDATE_TOTAL",de="UPDATE_COSTS_STATE",me=12,fe={state:function(){return{items:[],itemsByCategory:[],statistics:{colors:[],data:[]},detailing:[],total:0}},mutations:(o={},Object(qt["a"])(o,re,(function(t,e){t.statistics=e})),Object(qt["a"])(o,se,(function(t,e){t.detailing=e})),Object(qt["a"])(o,ce,(function(t,e){t.items=e})),Object(qt["a"])(o,ue,(function(t,e){t.itemsByCategory=e})),Object(qt["a"])(o,le,(function(t,e){t.total=e})),Object(qt["a"])(o,de,(function(t,e){t.items=e.items,t.itemsByCategory=e.itemsByCategory,t.detailing=e.detailing,t.statistics=e.statistics,t.total=e.total})),o),actions:(r={},Object(qt["a"])(r,N,(function(t,e){var i=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.dispatch(z,e);case 2:a=n.sent,i.commit(re,a);case 4:case"end":return n.stop()}}),n)})))()})),Object(qt["a"])(r,Z,(function(){return Promise.resolve()})),Object(qt["a"])(r,J,(function(t,e){return Object(v["a"])(regeneratorRuntime.mark((function i(){var n,a,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.dispatch(W,e);case 2:n=i.sent,a=n.itemsByCategory,o=n.total,t.commit(ue,a),t.commit(le,o);case 7:case"end":return i.stop()}}),i)})))()})),Object(qt["a"])(r,W,(function(t,e){var i=e||t.state.items,n=0,a=t.rootState.categories.items.map((function(t){var e=0,a=i.filter((function(i){var n=i.category===t.id;return n&&(e+=i.sum),n}));return n+=e,Object(Y["a"])(Object(Y["a"])({},t),{},{costs:a,total:e})}));a=a.sort((function(t,e){return e.total-t.total})).map((function(t){var e=Math.round(100*t.total/n);return Object(Y["a"])(Object(Y["a"])({},t),{},{part:e})}));var o=a.filter((function(t){return!!t.total}));if(o.length>me){var r=o.slice(me-1).reduce((function(t,e){return t.total+=e.total,t.part+=e.part,t}),{total:0,part:0});r.id=-1,r.name="Другие",r.icon={id:-1,value:"three-dots",color:"#CCCCCC"},o.length=me,o[me-1]=r,a=o}return Promise.resolve({itemsByCategory:a,total:n})})),Object(qt["a"])(r,z,(function(t,e){var i=[],n=e.filter((function(t){return!!t.total&&(i.push(t.icon.color),!0)})).map((function(t){return{id:t.id,name:t.name,y:t.total}}));return Promise.resolve({data:n,colors:i})})),Object(qt["a"])(r,q,(function(){return Promise.resolve()})),Object(qt["a"])(r,K,(function(t,e){return Object(v["a"])(regeneratorRuntime.mark((function i(){var n,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=Object(Y["a"])({},e),n.id=Date.now(),a=[n].concat(Object(zt["a"])(t.state.items)),i.next=5,t.dispatch(it,a);case 5:case"end":return i.stop()}}),i)})))()})),Object(qt["a"])(r,Q,(function(t,e){return Object(v["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:localStorage.setItem(ae,JSON.stringify(e)),t.commit(ce,e);case 2:case"end":return i.stop()}}),i)})))()})),Object(qt["a"])(r,X,(function(t,e){return Object(v["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.state.items.filter((function(t){return t.category!==e})),i.next=3,t.dispatch(it,n);case 3:case"end":return i.stop()}}),i)})))()})),Object(qt["a"])(r,tt,(function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function i(){var n,a,o,r,s,c,u,l,d;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=localStorage.getItem(ae),a=n?JSON.parse(n):ne,i.next=4,t.dispatch(W,a);case 4:return o=i.sent,r=o.itemsByCategory,s=o.total,i.next=9,Promise.all([t.dispatch(z,r),t.dispatch(q,r)]);case 9:c=i.sent,u=Object(_["a"])(c,2),l=u[0],d=u[1],e.commit(de,{items:a,itemsByCategory:r,statistics:l,detailing:d,total:s});case 14:case"end":return i.stop()}}),i)})))()})),Object(qt["a"])(r,it,(function(t,e){return Object(v["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Promise.all([t.dispatch(Q,e),t.dispatch(J,e)]);case 2:return i.next=4,t.dispatch(N,t.state.itemsByCategory);case 4:case"end":return i.stop()}}),i)})))()})),Object(qt["a"])(r,et,(function(t){return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.dispatch(it,oe);case 2:case"end":return e.stop()}}),e)})))()})),r)};i("ab8b"),i("2dd8"),i("5df9");s["default"].config.productionTip=!1,s["default"].use(c["a"]),s["default"].use(u["a"]),s["default"].use(l["a"]),s["default"].use(m.a);var pe=new c["a"].Store({modules:{categories:ie,costs:fe}}),he=new s["default"]({store:pe,render:function(t){return t(Jt)}});pe.dispatch(Et).then((function(){pe.dispatch(tt).then((function(){he.$mount("#app")}))}))},5746:function(t,e,i){"use strict";i("931f")},"62c2":function(t,e,i){"use strict";i("c6c9")},"7a03":function(t,e,i){},"85ec":function(t,e,i){},9063:function(t,e,i){"use strict";i("1896")},9205:function(t,e,i){},"931f":function(t,e,i){},"947a":function(t,e,i){},c6c9:function(t,e,i){},ca3b:function(t,e,i){},cf25:function(t,e,i){},d88f:function(t,e,i){"use strict";i("7a03")},e22a:function(t,e,i){"use strict";i("ca3b")},e268:function(t,e,i){"use strict";i("9205")},ecf3:function(t,e,i){"use strict";i("cf25")}});
//# sourceMappingURL=app.973ccc6a.js.map